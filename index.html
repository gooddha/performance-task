<!doctype html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JS Slider | SHRI Performance Task</title>
  <link href="css/styles.css" rel="stylesheet">
</head>

<body>
  <div class="content">
    <h1>Домашнее задание по теме Performance</h1>
    <hr>
    <h2>Сбор метрик</h2>
    <h2><a href="stats.html" style="color: white">Посмотреть метрики</a></h2>
    <div class="wrapper">
      <div id="gallery">

        <div class="photos">
          <img src="img/Chrysanthemum.jpg" class="showed" alt="">
          <img src="img/Desert.jpg" alt="">
          <img src="img/Hydrangeas.jpg" alt="">
          <img src="img/Jellyfish.jpg" alt="">
          <img src="img/Koala.jpg" alt="">
          <img src="img/Lighthouse.jpg" alt="">
          <img src="img/Penguins.jpg" alt="">
          <img src="img/Tulips.jpg" alt="">
        </div>
        <div class="buttons">
          <input type="button" value="<" class="prev">
          <input type="button" value="play" class="play">
          <input type="button" value=">" class="next">
        </div>
      </div>
    </div>
  </div>
  <script src="js/script.js"></script>
  <script src="send.js"></script>
  <script>

    let counter = new Counter();

    counter.init('D8F28E59-3339-11E9-9ED9-9F93090795B9', String(Math.random()).substr(2, 12), 'slider');
    counter.setAdditionalParams({
      env: ['production', 'develope'][Math.floor(Math.random() * 2)],
      platform: navigator.platform,
      vendor: navigator.vendor
    });

    counter.send('connect', performance.timing.connectEnd - performance.timing.connectStart);
    counter.send('ttfb', performance.timing.responseEnd - performance.timing.requestStart);

    // let timeStart = Date.now();

    // setTimeout(function () {
    //   document.querySelector('.square').classList.add('black');

    //   counter.send('square', Date.now() - timeStart);
    // }, Math.random() * 1000 + 500);

    // let uuidv4 = function () {
    //   return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c =>
    //     (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)
    //   );
    // }

    // let drawData = function () {
    //   let html = '',
    //     count = 500,
    //     genStart = Date.now();

    //   for (let i = 0; i < count; i++) {
    //     html += `<div class="row">${uuidv4().toUpperCase()}</div>`
    //   }

    //   counter.send('generate', Date.now() - genStart);

    //   let drawStart = Date.now();

    //   document.querySelector('.results').innerHTML = html;

    //   requestAnimationFrame(function () {
    //     counter.send('draw', Date.now() - drawStart);
    //   });
    // };

    // document.querySelector('.load').onclick = function () {
    //   let timeStart = Date.now();

    //   setTimeout(function () {
    //     counter.send('load', Date.now() - timeStart);

    //     drawData();
    //   }, Math.random() * 1000 + 2000);
    // }
  </script>
  </div>
</body>

</html>